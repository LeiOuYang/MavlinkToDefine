调试过程中遇到的问题和解决办法



1、串口一直进入中断

​    配置中断标志的时候一个一个配置，不要采用“|”位或一同配置。

2、程序一直在串口3接受数据处理任务中执行

​    队列读取长度算法错误，已修正

3、程序中字符数据空间不够，经常碰到运行时死机。

4、协议细节问题

​    校验码的算法是除去起始位，另外加上消息ID对应的一个校验字节再取CRC16校验和。低位在前，高位在后。

5、串口收到什么发送什么，有时候还有乱码

​    硬件上的问题，连接了一个没有上电的电台，电台内部引起的数据回路。

6、品灵云台软件BUG：发送控制指令会使云台进入锁头模式，在发送停止指令后发送一条跟随模式指令。

7、起落架支持